# RSSフィード機能 要件定義書

**作成日**: 2026年1月10日
**更新日**: 2026年1月10日

## 1. 機能概要

読者がフィードリーダー（Feedly等）を使用して、DiffDailyの記事更新を購読できるようにする。

**背景**：
- 現状、読者がDiffDailyの更新を知るには直接サイトを訪問する必要がある
- フィードリーダーを利用している読者にとって、購読の手段がない

**主要な提供価値**：
- 読者がフィードリーダーで記事更新を購読できる
- リポジトリ単位での購読が可能になる

## 2. 機能要件

### 2.1 フィードの種類

#### 全体フィード

- サイト全体の公開済み記事を配信するフィードを提供する
- 最新50件までの記事を含める

#### リポジトリ別フィード

- 各リポジトリに紐づく公開済み記事を配信するフィードを提供する
- 最新50件までの記事を含める

### 2.2 フィード形式

- RSS 2.0形式で提供する
- 既存の記事一覧エンドポイントでコンテンツタイプとしてRSSを指定した場合にRSS形式で返す

### 2.3 フィードに含める情報

各記事について以下の情報を含める：

- 記事タイトル
- 記事の要約（summary）
- 記事詳細ページへのリンク
- 公開日時
- 元PRへのリンク（ソースURL）
- リポジトリ名（カテゴリとして）

### 2.4 フィードへの導線

- 各ページからフィードURLへアクセスできるようにする
- フィードの自動検出（autodiscovery）に対応する

## 3. 前提条件・制約事項

### 3.1 前提条件

- Postモデルにstatus、published_at、summary属性が存在すること
- PostモデルとRepositoryモデルが関連付けられていること

### 3.2 制約事項

- 公開済み（published）の記事のみをフィードに含める
- 記事本文（body）は含めず、要約（summary）のみを配信する

## 4. 用語定義

| 用語 | 説明 |
|------|------|
| RSS 2.0 | Really Simple Syndication 2.0。Webフィードの標準形式 |
| フィードリーダー | RSSフィードを購読・閲覧するためのアプリケーション |
| autodiscovery | ブラウザやフィードリーダーがページ内のフィードURLを自動検出する仕組み |
| コンテンツネゴシエーション | HTTPのAcceptヘッダーやURL拡張子により、同一リソースを異なる形式で返す仕組み |

## 5. 受け入れ条件

- [ ] 全体フィード（RSS 2.0形式）が提供されていること
- [ ] リポジトリ別フィード（RSS 2.0形式）が提供されていること
- [ ] フィードに公開済み記事のみが含まれていること
- [ ] フィードに最新50件までの記事が含まれていること
- [ ] 各記事にタイトル、要約、リンク、公開日時、カテゴリが含まれていること
- [ ] フィードの自動検出に対応していること
- [ ] フィードリーダー（Feedly等）で正常に購読できること

---

## 改訂履歴

| バージョン | 日付 | 変更内容 |
|------------|------|----------|
| 1.0 | 2026/01/10 | 初版作成 |
| 1.1 | 2026/01/10 | コンテンツネゴシエーション方式に変更 |
